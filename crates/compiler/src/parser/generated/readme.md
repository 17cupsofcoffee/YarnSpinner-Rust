# ANTLR files

All files in this directory were autogenerated by ANTLR with minimal manual adjustments.

## Autogeneration
- Download [this custom ANTLR](https://github.com/rrevenantt/antlr4rust/releases/tag/antlr4-4.8-2-Rust0.3.0-beta) provided by antlr4rust.
- `cd` into the root of this repo: `cd path/to/rusty-yarn-spinner`
- Download the third-party submodules: `git submodule update --init --recursive`
- Run the following command:
`
java -jar "path/to/antlr4-4.8-2-SNAPSHOT-complete.jar" -Dlanguage=Rust third-party/YarnSpinner/YarnSpinner.Compiler/*.g4 -Xexact-output-dir -o crates/compiler/src/parser/generated
`

## Manual Adjustments
* Rename `YarnSpinnerParserParserContext` to `YarnSpinnerParserContext`
  * Something goes wrong during generation with this type, resulting in the error `symbol type conflicts with generated code in target language or runtime`
* Add the generated `mod`s to `parser.rs`, including lint allow attributes for `warnings`, `clippy` and `rustfmt`
